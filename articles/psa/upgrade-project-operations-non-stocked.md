---
title: Надграждане от автоматизация на услугата за проекти до операции по проекта
description: Тази статия предоставя общ преглед на процеса за надграждане от Microsoft Dynamics 365 Project Service Automation до Dynamics 365 Project Operations.
author: ruhercul
ms.custom: dyn365-projectservice
ms.date: 01/13/2022
ms.topic: article
ms.author: ruhercul
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.reviewer: johnmichalak
ms.openlocfilehash: c7958c1474820361269f19ea8c9279b96f087d7a
ms.sourcegitcommit: 8edd24201cded2672cec16cd5dc84c6a3516b6c2
ms.translationtype: MT
ms.contentlocale: bg-BG
ms.lasthandoff: 08/06/2022
ms.locfileid: "9230216"
---
# <a name="upgrade-from-project-service-automation-to-project-operations"></a>Надграждане от автоматизация на услугата за проекти до операции по проекта

Развълнувани сме да обявим първата от трите фази за надграждане от Microsoft Dynamics 365 Project Service Automation до Dynamics 365 Project Operations. Тази статия предоставя общ преглед за клиенти, които се впуснат в това вълнуващо пътуване. Бъдещите статии ще включват съображения и подробности за подобренията на функциите. Те не само ще предоставят насоки, които да ви помогнат да се подготвите за надстройването си до Project Operations, но и ще обяснят какво можете да очаквате, след като сте надстроили.

Програмата за доставка на надстройка ще бъде разделена на трите фази.

| Ъпгрейд доставка | Фаза 1 (януари 2022 г.) | Фаза 2 (Април вълна 2022) | Фаза 3  |
|------------------|------------------------|---------------------------|---------------------------|
| Няма зависимост от структурата на разбивката на работата (WBS) за проекти | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark: |
| WBS в рамките на поддържаните понастоящем граници на Операции по проекта | | :heavy_check_mark: | :heavy_check_mark: |
| WBS извън поддържаните в момента граници на Project Operations, включително поддръжка за клиента на работния плот на Project | | | :heavy_check_mark: |

## <a name="upgrade-process-features"></a>Функции на процеса на надстройване 

Като част от процеса на надстройване добавихме регистрационни файлове за надграждане към картата на сайта, така че администраторите да могат по-лесно да диагностицират неуспехите. В допълнение към новия интерфейс ще бъдат добавени нови правила за проверка, за да се гарантира целостта на данните след надстройване. Следните валидации ще бъдат добавени към процеса на надстройване.

| Потвърждаване | Фаза 1 (януари 2022 г.) | Фаза 2 (Април вълна 2022) | Фаза 3  |
|-------------|------------------------|---------------------------|---------------------------|
| WBS ще бъде валидиран срещу общи нарушения на целостта на данните (например задания на ресурси, които са свързани със същата родителска задача, но имат различни родителски проекти). | | :heavy_check_mark: | :heavy_check_mark: |
| WBS ще бъде валидиран спрямо [известните граници на Project за уеб](/project-for-the-web/project-for-the-web-limits-and-boundaries). | | :heavy_check_mark: | :heavy_check_mark: |
| WBS ще бъде валидиран спрямо известните граници на настолния клиент на Project. | |  | :heavy_check_mark: |
| Букмейкърски ресурси и календари на проекти ще бъдат оценени спрямо общи несъвместими изключения от календарно правило. | | :heavy_check_mark: | :heavy_check_mark: |

Във фаза 2 клиентите, които надстроят до Project Operations, ще имат своите съществуващи проекти, надстроени до опит само за четене за планиране на проекти. В това изживяване само за четене пълната WBS ще се вижда в мрежата за проследяване. За да редактирате WBS, ръководителите на проекти могат да изберат **Конвертиране** на главната **страница проекти**. След това фонов процес ще актуализира проекта, така че да поддържа новия опит за планиране на проекти от Project for the Web. Тази фаза е подходяща за клиенти, които имат проекти, които се вписват в [известните граници на Project for the Web](/project-for-the-web/project-for-the-web-limits-and-boundaries).

Във фаза 3 ще бъде добавена поддръжка за настолен клиент на Project, в полза на клиенти, които искат да продължат да редактират своите проекти от това приложение. Ако обаче съществуващите проекти се преобразуват в новия проект за уеб изживяването, достъпът до добавката ще бъде забранен за всеки преобразуван проект.

## <a name="prerequisites"></a>Предварителни изисквания

За да отговаря на условията за надстройване на фаза 1, клиентът трябва да отговаря на следните критерии:

- Целевата среда не трябва да съдържа никакви записи в **msdyn_projecttask** обект.
- Валидните лицензи за Операции по проекта трябва да бъдат присвоени на всички активни потребители на клиента. 
- Клиентът трябва да валидира процеса на надстройване в поне една непроизводствени среда, която има представителен набор от данни, който е приведен в съответствие с производствените данни.
- Целевата среда трябва да бъде актуализирана до 41 (3.10.62.162) за актуализиране на автоматизацията на project Service или по-нова версия.

Предпоставките за фаза 2 и фаза 3 ще бъдат актуализирани с наближаването на общите дати на наличност.

## <a name="licensing"></a>Лицензиране

Ако имате активни лицензи за Project Service Automation, можете да инсталирате и използвате Project Operations, което включва всички възможности на Project Service Automation и др. По този начин можете да тествате възможностите на Project Operations, докато продължавате да използвате Project Service Automation в производството. След изтичането на валидността на лицензите ви за автоматизация на услуги по проекта ще трябва да преминавате към Операции по проекта. Когато планирате този преход, трябва да отчитате факта, че лицензът "Операции по проекта" не включва лиценз за автоматизация на услугата за проекти.

## <a name="testing-and-refactoring-customizations"></a>Тестване и рефракториране на персонализации

Като отправна точка импортирайте всички персонализации в чиста среда за операции по проекта (Lite), за да потвърдите, че импортирането е успешно, и че бизнес операциите се държат според очакванията.

Ето някои неща, за които да внимавате:

- Импортирането може да е неуспешно поради липсващи зависимости. С други думи, полетата за препратки към персонализации или други компоненти, които са премахнати в Операции по проекта. В този случай премахнете тези зависимости от средата за развитие.
- Ако незавършените и управляваните ви решения включват компоненти, които не са персонализирани, премахнете тези компоненти от решението. Например, когато персонализирате обекта " **Проект** ", добавете само заглавния блок на обекта към вашето решение. Не добавяй всички полета. Ако преди това сте добавили всички подкомпоненти, може да се наложи ръчно да създадете ново решение и да добавите подходящи компоненти към него.
- Формулярите и изгледите може да не се показват според очакванията. При някои обстоятелства, ако сте персонализирали някой от формулярите или изгледите извън кутията, персонализациите може да попречат на влизането в сила на нови актуализации в Project Operations. За да установите тези проблеми, ви препоръчваме да направите един до друг преглед на чиста инсталация на Project Operations и инсталация на Project Operations, която включва вашите персонализации. Сравнете най-често използваните формуляри в бизнеса си, за да потвърдите, че версията ви на формуляра все още има смисъл и не пропуска нещо от чистата версия на формуляра. Направете същия тип преглед едно до друго за всички изгледи, които сте персонализирали.
- Бизнес логиката може да се провали по време на изпълнение. Тъй като препратките към полета във вашите добавки не са валидирани по време на импортирането, Бизнес логиката може да е неуспешна поради препратки към полета, които вече не съществуват, и може да получите съобщение за грешка, подобно на следния пример: "'Project' обектът не съдържа атрибут с Име = 'msdyn_plannedhours' и NameMapping = 'Logical'." В този случай модифицирайте персонализациите си, така че да използват новите полета. Ако използвате автоматично генерирани прокси класове и силни типови препратки в логиката на добавката си, помислете за регенериране на тези проксита от чиста инсталация. По този начин можете лесно да идентифицирате всички места, където вашите добавки зависят от амортизираните полета.

След като актуализирате персонализациите си, за да импортирате чисто Project Operations, преминете към следващите стъпки.

## <a name="end-to-end-testing-in-development-environments"></a>Изпитване от край до край в среди за разработка

### <a name="initiate-upgrade"></a>Иницииране на надстройване 

1. В центъра за Power Platform администриране намерете и изберете средата си. След това, в приложенията, намерете и изберете **Dynamics 365 Project Operations**.
2. Изберете **Инсталиране**, за да стартирате надстройката. Центърът Power Platform за администриране ще представи тази инсталация като нова инсталация. Въпреки това ще бъде открит наличието на по-стара версия на Project Service Automation и съществуващата инсталация ще бъде надстроена.

    След завършване на надстройването средата трябва да покаже, че операциите по проекта са инсталирани и че автоматизацията на project Service не е инсталирана.

    > [!NOTE]
    > В зависимост от количеството данни в околната среда надстройката може да отнеме няколко часа. Основните екип, който управлява надстройката трябва да планират съответно и да стартират надстройката по време на неработно време. В някои случаи, ако обемът на данните е голям, надстройката трябва да се изпълнява през уикенда. Решението за планиране трябва да се основава на резултатите от тестването в по-ниски среди.

3. Надстройте персонализирани решения според случая. В този момент разположите всички промени, които сте направили в персонализациите си в секцията [Тестване и рефракториране на персонализации](#testing-and-refactoring-customizations) на тази статия.
4. Отидете **на Решения за** \> **настройки** и изберете, за да деинсталирате **решението "Демортирани компоненти на операциите** по проекта".

    Това решение е временно решение, което държи съществуващия модел данни и компоненти, които присъстват по време на надстройването. С премахването на това решение премахвате всички полета и компоненти, които вече не се използват. По този начин помагате за опростяването на интерфейса и улеснявате интеграцията и разширението.
    
### <a name="validate-common-scenarios"></a>Валидиране на често срещани сценарии

Когато валидирате конкретните си персонализации, ви препоръчваме да прегледате и бизнес процесите, които се поддържат в различните приложения. Тези бизнес процеси включват, но не се ограничават до създаването на обекти за продажби като котировки и договори, както и създаването на проекти, които включват WBSs и одобрение на действителните данни.

## <a name="major-changes-between-project-service-automation-and-project-operations"></a>Основни промени между автоматизацията на услугата на проекта и операциите по проекта

Този раздел предоставя обобщение на основните промени, които можете да очаквате между Project Service Automation и Project Operations.

### <a name="project-planning"></a>Планиране на проект

Възможностите за планиране на проекта в Project Operations вече не разчитат на комбинация логика от страна на клиента и логика от страна на сървъра. Вместо това Project Operations използва Project за уеб, тъй като е планиране двигател. Тази промяна в възможностите за планиране позволява няколко нови функции, като изгледи на дъска и Гант, планиране, управлявано от ресурси, [елементи](https://support.microsoft.com/office/use-task-checklists-in-microsoft-project-for-the-web-c69bcf73-5c75-4ad3-9893-6d6f92360e9c) от списък със задачи и режими на планиране на проекти. Новите възможности за планиране също се поддържат от богат набор от нови [интерфейси за програмиране на приложения (API)](../project-management/schedule-api-preview.md). Тези API са предназначени да помогнат да се гарантира, че нито една програмна операция за създаване, актуализиране или изтриване на обект в WBS повреди изчислените полета в графика.

## <a name="billing-and-pricing"></a>Фактуриране и ценообразуване

Като част от продължаващите инвестиции в Project Operations, няколко нови възможности са достъпни в Таксуването и ценообразуването. Ето някои примери:

- [Записване на използването на материали по проекти и проектни задачи](../material/material-usage-log.md)
- [Управление на подизпълнители](../pro/subcontracting/managing-subcontracts-overview.md)
- [Базирани на авансови плащания и капаро договори](../pro/sales/set-up-advances-retainer-based-contracts-sales.md)
- [Състояние и валидации, които не надвишават договора](../pro/proforma-invoicing/manage-nte-status-validations-sales.md)
- Таксуване въз основа на задачи

## <a name="frequently-asked-questions"></a>Често задавани въпроси

### <a name="which-deployment-types-are-currently-supported-for-upgrade"></a>Кои типове разполагане в момента се поддържат за надстройване?

| Източник                                                 | Цел                                                    | Статус                  |
|--------------------------------------------------------|-----------------------------------------------------------|-------------------------|
| Project Service Automation                             | Проект операции Lite разполагане                        | Поддържани               |
| Dynamics 365 Finance Управление и счетоводство на проекти | Проект операции Lite разполагане                        | Понастоящем не се поддържа |
| Управление и счетоводство на проекти за финанси              | Project Operations за сценарии, базирани на ресурси/неналичност     | Понастоящем не се поддържа |
| Автоматизация на услугата на проекта 3.x                         | Project Operations за сценарии, базирани на ресурси/неналичност     | Понастоящем не се поддържа |
| Проект за Уеб (специализирана среда)            | Проект операции Lite разполагане                        | Понастоящем не се поддържа |

### <a name="how-can-i-install-project-operations-before-the-upgrade-tooling-is-available"></a>Как мога да инсталирам Project Operations, преди да е налице инструмента за надстройване?

Има две опции за инсталиране на Project Operations, преди да е налице инструмента за надстройване:

- Осигуряване на нова среда.
- Разполагане на операциите по проекта отделно във всяка организация за продажби, в която няма автоматизация на project Service Automation.

> [!NOTE]
> Ако project Service Automation е инсталирана на организация, но не е използвана, тя може да бъде деинсталирана. След като премахнете напълно Project Service Automation, Project Operations може да се инсталира на същата организация.
