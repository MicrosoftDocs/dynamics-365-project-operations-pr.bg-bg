---
title: Настройване на персонализирани полета като измерения на ценообразуване
description: Тази тема предоставя информация за задаването на персонализирани ценови измерения.
author: Rumant
ms.custom:
- dyn365-projectservice
ms.date: 11/20/2018
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.reviewer: johnmichalak
ms.openlocfilehash: 91ec6d502a44771e7e03b67cc2be40c527fff355
ms.sourcegitcommit: c0792bd65d92db25e0e8864879a19c4b93efb10c
ms.translationtype: MT
ms.contentlocale: bg-BG
ms.lasthandoff: 04/14/2022
ms.locfileid: "8591897"
---
# <a name="setting-up-custom-fields-as-pricing-dimensions"></a>Настройване на персонализирани полета като измерения на ценообразуване 

[!include [banner](../includes/psa-now-project-operations.md)]

Преди да започнете, тази тема предполага, че сте завършили процедурите в темите [Създавате на персонализирани полета и обекти](create-custom-fields-entities.md) и [Добавяне на персонализирани полета към настройка на цени и обекти за транзакции](field-references.md). Ако не сте изпълнили тези процедури, върнете се и ги изпълнете, след което се върнете към тази тема. 

Тази тема предоставя информация за задаването на персонализирани ценови измерения. В уеб интерфейса на Project Service, на страницата **Параметри**, разделът **Ценови измерения, базирани на суми** показва записите в обекти на ценови измерения. По подразбиране инсталирането на Project Service създава 2 реда в мрежата в този раздел:

- **msdyn_resourcecategory** (роля)
- **msdyn_OrganizationalUnit** (организационна единица)

> [!IMPORTANT]
> Не изтривайте тези редове. Въпреки това, ако не се нуждаете от тях, можете да ги направите неприложими в конкретен контекст, като зададете **Приложимо за разходи**, **Приложимо за продажби** и **Приложимо за покупка** на **Не**. Задаването на тези стойности на атрибутите на **Не** има същия ефект като това, че полето не е ценово измерение.

За да може полето да се превърне в ценово измерение, то трябва да бъде:

- Създадено като поле в обектите **Цена на роля** и **Надценка над цена на роля**. За повече информация как да направите това вижте [Добавяне на персонализирани полета към настройки на цени и обекти за транзакции](field-references.md).
- Създадено като ред в таблицата **Ценово измерение**. Например добавете редове на ценови измерения, както е показано в следващата графика. 

![Редове на ценови измерения, базирани на суми.](media/Amt-based-PD.png)

Забележете, че работни часове на ресурс (**msdyn_resourceworkЧасs**) е добавено като измерение, базирано на надценка, и е добавено към мрежата в раздела **Ценово измерение, базирано на надценка**.

![Редове на ценови измерения, базирани на надценка.](media/Markup-based-PD.png)

> [!IMPORTANT]
> Всяка промяна в данните на ценово измерение в тази таблица, съществуващо или ново, се разпространява към бизнес логиката за ценообразуване на Project Service само след обновяване на кеша. Обновяването на кеша може да отнеме до 10 минути. Оставете това време, за да видите промените в логиката на цената по подразбиране, които трябва да произтекат от промените в данните в „Ценови измерения“.


## <a name="attributes-of-the-pricing-dimensions-table"></a>Атрибути на таблицата „Ценови измерения“
Следващите раздели предоставят информация за различните атрибути в таблицата **Ценови измерения**.

### <a name="pricing-dimension-name"></a>Име на ценовото измерение
Тази стойност трябва да бъде точно същата като името на схемата на полето, което се добавя към таблицата **Цена на роля** за персонализирани ценови измерения. За повече информация относно добавянето на полета към таблицата **Цена на роля** вижте [Добавяне на персонализирани полета към настройка на цени и обекти за транзакции](field-references.md).

### <a name="type-of-dimension"></a>Тип измерение
Съществуват два типа ценови измерения:
  
  - **Ценови измерения, базирани на суми**: стойностите на измеренията от контекста на въвеждане съвпадат със стойностите на измерението в реда **Цена на роля**, а цена/разходи се получава по подразбиране директно от таблицата **Цена на роля**.
  - **Измерения, базирани на надценка**: това са измерения, където Project Service ще възприеме следния 3-стъпков процес, за да получи цената/разходите
 
    1. Project Service съпоставя стойностите на измерения, които не са базирани на надценка, от контекста на въвеждане с реда „Цена на роля“, за да получи базовата ставка.
    2. Project Service съпоставя всички стойности на измеренията от контекста на въвеждане с реда **Цена на роля**, за да получи процент на надценка.
    3. Project Service прилага процента на надценка от втората стъпка към базовата ставка, получена от таблицата **Цена на роля** в първата стъпка, за да достигне до крайната цена/разходи.
   
   Следващата таблица илюстрира изчисляването на ценовите надценки.
  
| Роля        | Организационна единица    |Месторабота      |Стандартна длъжност      |Работни часове на ресурс      |  Надценка|
| ------------|-------------|-------------------|--------------------|-------------------------|--------:|
|             | Contoso Индия|На място            |                    |Извънреден труд                 |15     |
|             | Contoso Индия|Локално             |                    |Извънреден труд                 |10     |
|             | Contoso САЩ   |Локално             |                    |Извънреден труд                 |20     |


Ако ресурс от Contoso Индия, чиято базова ставка е 100 USD, работи на място и регистрира 8 часа редовно време и 2 часа извънреден труд в записа за време, програмата за ценообразуване на Project Service ще използва базовата ставка 100 за 8 часа, за да запише 800 USD. За 2-та часа извънреден труд ще се приложи надценка от 15% към базовата ставка от 100, за да се получи единична цена 115 USD, и ще бъде записана общ разход от 230 USD.

### <a name="applicable-to-cost"></a>Приложимо за разходи 
Ако това е зададено на **Да**, показва, че стойността на измерението от контекста на въвеждане трябва да се съпостави с **Цена на роля** и **Надценка над цена на роля** при извличане на ставките за разходи и надценка.

### <a name="applicable-to-sales"></a>Приложимо за продажби
Ако това е зададено на **Да**, показва, че стойността на измерението от контекста на въвеждане трябва да се съпостави с **Цена на роля** и **Надценка над цена на роля** при извличане на ставките за фактуриране и надценка.

### <a name="applicable-to-purchase"></a>Приложимо за покупки
Ако това е зададено на **Да**, показва, че стойността на измерението от контекста на въвеждане трябва да се съпостави с **Цена на роля** и **Надценка над цена на роля** при извличане на покупната цена. Понастоящем Project Service не поддържа сценарии за подизпълнение, така че това поле не се използва. 

### <a name="priority"></a>Приоритет
Задаването на приоритет на измеренията помага на процедурата за ценообразуване на Project Service дори когато не може да намери точно съвпадение между въведените стойности на измеренията и стойностите от таблиците **Цена на роля** или **Надценка над цена на роля**. В този сценарий Project Service ще използва нулеви стойности за несъответстващи стойности на измерение чрез претегляне на измеренията по реда на техния приоритет.

- **Приоритет на разходите**: стойността на приоритета на разходите на измерение ще покаже теглото на това измерение при съпоставяне с настройката на себестойностите. Стойността на **Приоритет на разходите** трябва да бъде уникална за измеренията, които са **Приложимо за разходи**.
- **Приоритет на продажбите**: стойността на приоритета на продажбите на измерение ще покаже теглото на това измерение при съпоставяне с настройката на продажните цени или ставките за фактуриране. Стойността на **Приоритет на продажбите** трябва да бъде уникална за измеренията, които са **Приложимо за продажби**.


[!INCLUDE[footer-include](../includes/footer-banner.md)]
