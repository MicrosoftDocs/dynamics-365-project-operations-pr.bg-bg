---
title: Промени в обектите, контролите и потребителския интерфейс (Project Service Automation 3.x)
description: Тази тема описва промените в решението за Microsoft Dynamics Project Service Automation 3.x.
author: makk
ms.custom:
- dyn365-projectservice
ms.date: 03/15/2019
ms.topic: article
ms.author: makk
audience: admin
search.audienceType:
- admin
- customizer
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: e3d6f515cec51cb30f83ff22a14ecb125dc81214
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: bg-BG
ms.lasthandoff: 05/10/2021
ms.locfileid: "6007938"
---
# <a name="entity-control-and-user-interface-changes-project-service-automation-3x"></a><span data-ttu-id="a5ce0-103">Промени в обектите, контролите и потребителския интерфейс (Project Service Automation 3.x)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-103">Entity, control, and user interface changes (Project Service Automation 3.x)</span></span>

[!include [banner](../../includes/psa-now-project-operations.md)]


<span data-ttu-id="a5ce0-104">В изданието на Microsoft Dynamics Project Service Automation (PSA) 3.x са направени много промени в обектите, контролите, изгледите и потребителския интерфейс.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-104">With the release of Microsoft Dynamics Project Service Automation (PSA) 3.x, many changes have been made to the entities, controls, views, and user interface.</span></span> <span data-ttu-id="a5ce0-105">Тази тема предоставя информация относно тези важни промени.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-105">This topic provides information about these important changes.</span></span>

## <a name="parent-child-relationships-for-sales-document-sales-document-line-sales-document-line-detail-entities"></a><span data-ttu-id="a5ce0-106">Родителски-дъщерни релации за обектите документ за продажба, ред на документ за продажба, подробности за ред на документ за продажба</span><span class="sxs-lookup"><span data-stu-id="a5ce0-106">Parent-child relationships for sales document, sales document line, sales document line detail entities</span></span>
<span data-ttu-id="a5ce0-107">Във версиите на Dynamics 365 Project Service Automation (PSA), публикувани преди версия 3.0, някои от релациите между обектите документи за продажби, редове на документи за продажби и подробности за ред на документ за продажби се изпълняваха чрез полета от низов тип, които съхраняваха представяне на низ на GUID на свързания обект.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-107">In versions of Dynamics 365 Project Service Automation (PSA) released prior to version 3.0, some of the relationships between sales documents, sales document lines, and sales document line detail entities were implemented through string fields that would hold a string representation of GUID of the related entity.</span></span> <span data-ttu-id="a5ce0-108">Това се дължи на ограничения на платформата, които изискваха значителен персонализиран код от страната на сървъра и на клиента на решението, за да могат тези релации да работят, подобно на типичните релации между обекти в Dynamics CRM, и полетата от низов тип да функционират като справочни полета.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-108">This was due to platform limitations that required significant custom code on the server and client sides of the solution to make those relationships work similar to typical Dynamics CRM entity relationships and to make string fields act like lookup fields.</span></span>

<span data-ttu-id="a5ce0-109">PSA 3.0 е актуализирана, за да използва новите релации между обектите документ за продажба и ред на документ за продажба.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-109">PSA 3.0 has been updated to leverage the new entity relationships between sales document and sales document line entities.</span></span>

<span data-ttu-id="a5ce0-110">Тъй като справочните полета вече могат да се използват за посочване на препратки към обекти, полетата, които съдържат стойността на низа на GUID на свързания обект в предишните версии, вече не са необходими и поради това са отхвърлени.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-110">Because lookup fields can now be used to indicate references to entities, the fields that held the string value of the GUID of the related entity in previous versions are no longer needed and therefore have been deprecated.</span></span> <span data-ttu-id="a5ce0-111">Персонализираният код от страна на клиента и сървъра, който обработва релациите, дефинирани от наследени полета от низов тип, също е отхвърлен.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-111">The custom client and server side code that handles the relationships defined by legacy string fields has also been deprecated.</span></span>

### <a name="entity-schema-changes"></a><span data-ttu-id="a5ce0-112">Промени в схемата на обектите</span><span class="sxs-lookup"><span data-stu-id="a5ce0-112">Entity schema changes</span></span>
<span data-ttu-id="a5ce0-113">Следващата таблица предоставя индивидуален списък на отхвърлените полета от низов тип и новите справочни полета за обектите.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-113">The following table provides a one-to-one list of the deprecated string fields and the new lookup fields for the entities.</span></span> 

 <span data-ttu-id="a5ce0-114">Обект</span><span class="sxs-lookup"><span data-stu-id="a5ce0-114">Entity</span></span> |   <span data-ttu-id="a5ce0-115">Отхвърлено поле (низ)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-115">Deprecated field (String)</span></span> | <span data-ttu-id="a5ce0-116">Ново поле (справочно)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-116">New field (Lookup)</span></span>
--- | --- | ---
<span data-ttu-id="a5ce0-117">Подробности за фактура (ред на фактура)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-117">invoicedetail (Invoice Line)</span></span> |  <span data-ttu-id="a5ce0-118">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-118">msdyn_contractline</span></span> |    <span data-ttu-id="a5ce0-119">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-119">msdyn_contractlineid</span></span>
<span data-ttu-id="a5ce0-120">msdyn_actual (действителни)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-120">msdyn_actual (Actual)</span></span> | <span data-ttu-id="a5ce0-121">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-121">msdyn_salescontractline</span></span> |   <span data-ttu-id="a5ce0-122">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-122">msdyn_salescontractlineid</span></span>
<span data-ttu-id="a5ce0-123">msdyn_contractlineinvoiceschedule (график за фактуриране на редове на договор по проект)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-123">msdyn_contractlineinvoiceschedule (Project Contract Line Invoice Schedule)</span></span> |    <span data-ttu-id="a5ce0-124">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-124">msdyn_contractline</span></span> |    <span data-ttu-id="a5ce0-125">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-125">msdyn_contractlineid</span></span>
<span data-ttu-id="a5ce0-126">msdyn_contractlinescheduleofvalue (контролна точка за ред на договор по проект)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-126">msdyn_contractlinescheduleofvalue (Project Contract Line Milestone)</span></span> |   <span data-ttu-id="a5ce0-127">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-127">msdyn_contractline</span></span> |    <span data-ttu-id="a5ce0-128">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-128">msdyn_contractlineid</span></span>
<span data-ttu-id="a5ce0-129">msdyn_fact (фактически)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-129">msdyn_fact (Fact)</span></span> | <span data-ttu-id="a5ce0-130">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-130">msdyn_salescontractline</span></span> |   <span data-ttu-id="a5ce0-131">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-131">msdyn_salescontractlineid</span></span>
<span data-ttu-id="a5ce0-132">msdyn_invoicelinetransaction (подробности за ред на фактура)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-132">msdyn_invoicelinetransaction (Invoice Line Detail)</span></span> | <span data-ttu-id="a5ce0-133">msdyn_invoiceline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-133">msdyn_invoiceline</span></span> <br> <span data-ttu-id="a5ce0-134">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-134">msdyn_salescontractline</span></span> | <span data-ttu-id="a5ce0-135">msdyn_invoicelineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-135">msdyn_invoicelineid</span></span> <br> <span data-ttu-id="a5ce0-136">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-136">msdyn_salescontractlineid</span></span>
<span data-ttu-id="a5ce0-137">msdyn_journalline (счетоводен запис)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-137">msdyn_journalline (Journal Line)</span></span> |  <span data-ttu-id="a5ce0-138">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-138">msdyn_salescontractline</span></span> |   <span data-ttu-id="a5ce0-139">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-139">msdyn_salescontractlineid</span></span>
<span data-ttu-id="a5ce0-140">msdyn_orderlineresourcecategory (категория ресурс за ред на договор по проект)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-140">msdyn_orderlineresourcecategory (Project Contract Line Resource Category)</span></span> | <span data-ttu-id="a5ce0-141">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-141">msdyn_salescontractline</span></span> |   <span data-ttu-id="a5ce0-142">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-142">msdyn_contractlineid</span></span>
<span data-ttu-id="a5ce0-143">msdyn_orderlinetransaction (подробности за ред на договор по проект)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-143">msdyn_orderlinetransaction (Project Contract Line Detail)</span></span> | <span data-ttu-id="a5ce0-144">msdyn_salescontractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-144">msdyn_salescontractline</span></span> |   <span data-ttu-id="a5ce0-145">msdyn_salescontractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-145">msdyn_salescontractlineid</span></span>
<span data-ttu-id="a5ce0-146">msdyn_orderlinetransactioncategory (категория транзакции на ред на договор по проект)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-146">msdyn_orderlinetransactioncategory (Project Contract Line Transaction Category)</span></span> |   <span data-ttu-id="a5ce0-147">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-147">msdyn_contractline</span></span> |    <span data-ttu-id="a5ce0-148">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-148">msdyn_contractlineid</span></span>
<span data-ttu-id="a5ce0-149">msdyn_orderlinetransactionclassification (класификация на транзакции на ред на договор по проект)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-149">msdyn_orderlinetransactionclassification (Project Contract Line Transaction Classification)</span></span> |   <span data-ttu-id="a5ce0-150">msdyn_contractline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-150">msdyn_contractline</span></span> |    <span data-ttu-id="a5ce0-151">msdyn_contractlineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-151">msdyn_contractlineid</span></span>
<span data-ttu-id="a5ce0-152">msdyn_quotelineinvoiceschedule (график за фактуриране на ред на оферта)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-152">msdyn_quotelineinvoiceschedule (Quote Line Invoice Schedule)</span></span> |  <span data-ttu-id="a5ce0-153">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-153">msdyn_quoteline</span></span> |   <span data-ttu-id="a5ce0-154">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-154">msdyn_quotelineid</span></span>
<span data-ttu-id="a5ce0-155">msdyn_quotelineresourcecategory (категория на ресурс за ред на оферта)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-155">msdyn_quotelineresourcecategory (Quote Line Resource Category)</span></span> |    <span data-ttu-id="a5ce0-156">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-156">msdyn_quoteline</span></span> |   <span data-ttu-id="a5ce0-157">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-157">msdyn_quotelineid</span></span>
<span data-ttu-id="a5ce0-158">msdyn_quotelinescheduleofvalue (контролна точка за ред на оферта)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-158">msdyn_quotelinescheduleofvalue (Quote Line Milestone)</span></span> | <span data-ttu-id="a5ce0-159">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-159">msdyn_quoteline</span></span> |   <span data-ttu-id="a5ce0-160">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-160">msdyn_quotelineid</span></span>
<span data-ttu-id="a5ce0-161">msdyn_quotelinetransaction (подробности за ред на оферта)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-161">msdyn_quotelinetransaction (Quote Line Detail)</span></span> |    <span data-ttu-id="a5ce0-162">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-162">msdyn_quoteline</span></span> |   <span data-ttu-id="a5ce0-163">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-163">msdyn_quotelineid</span></span>
<span data-ttu-id="a5ce0-164">msdyn_quotelinetransactioncategory (категория транзакции за ред на оферта)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-164">msdyn_quotelinetransactioncategory (Quote Line Transaction Category)</span></span> |  <span data-ttu-id="a5ce0-165">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-165">msdyn_quoteline</span></span> |   <span data-ttu-id="a5ce0-166">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-166">msdyn_quotelineid</span></span>
<span data-ttu-id="a5ce0-167">msdyn_quotelinetransactionclassification (класификация на транзакция за ред на оферта)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-167">msdyn_quotelinetransactionclassification (Quote Line Transaction Classification)</span></span> |  <span data-ttu-id="a5ce0-168">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-168">msdyn_quoteline</span></span> |   <span data-ttu-id="a5ce0-169">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-169">msdyn_quotelineid</span></span>
<span data-ttu-id="a5ce0-170">SalesOrderDetail (ред на поръчка)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-170">SalesOrderDetail (Order Line)</span></span> | <span data-ttu-id="a5ce0-171">msdyn_quotelineid</span><span class="sxs-lookup"><span data-stu-id="a5ce0-171">msdyn_quotelineid</span></span> | <span data-ttu-id="a5ce0-172">msdyn_quoteline</span><span class="sxs-lookup"><span data-stu-id="a5ce0-172">msdyn_quoteline</span></span> 

### <a name="deprecated-custom-views-and-controls"></a><span data-ttu-id="a5ce0-173">Отхвърлени персонализирани изгледи и контроли</span><span class="sxs-lookup"><span data-stu-id="a5ce0-173">Deprecated custom views and controls</span></span>
<span data-ttu-id="a5ce0-174">Следните персонализирани изгледи и контроли и свързаните с тях артефакти са отхвърлени.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-174">The following custom views and controls, and their related artifacts, have been deprecated.</span></span>

- <span data-ttu-id="a5ce0-175">Изглед на платимост.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-175">Chargeability view.</span></span>
- <span data-ttu-id="a5ce0-176">Персонализирани контроли за мрежа за показване на подробности за реда на офертата на страницата **Информация за проекта** за реда на офертата.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-176">Custom grid controls for showing quote line details on the **Project Information** page for the quote line.</span></span>
- <span data-ttu-id="a5ce0-177">Персонализирани контроли за показване на подробности за реда на офертата по проекта на страницата **Информация за проекта** за реда на поръчката за продажби.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-177">Custom grid controls for showing project contract line details on the **Project Information** page for the sales order line.</span></span>

> [!NOTE]
> <span data-ttu-id="a5ce0-178">За пълния списък с отхвърлени ресурси вижте [Отхвърлени уеб ресурси в Project Service Automation v3.x.](../developer-guides/web-resources-deprecated-v3.x.md)</span><span class="sxs-lookup"><span data-stu-id="a5ce0-178">For the full list of deprecated resources, see [Deprecated Web resources in Project Service Automation v3.x](../developer-guides/web-resources-deprecated-v3.x.md)</span></span>

## <a name="unified-client-interface-app-module"></a><span data-ttu-id="a5ce0-179">Модул на приложението на унифициран клиентски интерфейс</span><span class="sxs-lookup"><span data-stu-id="a5ce0-179">Unified Client Interface App Module</span></span>
<span data-ttu-id="a5ce0-180">С въвеждането на модулите на приложението на унифицирания клиентски интерфейс (UCI) записите в картата на сайта в PSA са премахнати от системата.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-180">With the introduction of Unified Client Interface (UCI) App Modules, the PSA site map entries have been removed from the system.</span></span>  
<span data-ttu-id="a5ce0-181">Функционалността, свързана с превключване на формуляри за „Възможност“, „Оферта“, „Поръчка“ и „Фактура“, е отхвърлена като ненужна вече, защото модулът на приложението включва само версии за PSA на формулярите.</span><span class="sxs-lookup"><span data-stu-id="a5ce0-181">Functionality related to form switching for Opportunity, Quote, Order, Invoice has been deprecated as it is no longer required because the UCI App Module includes only PSA versions of the forms.</span></span>  

<span data-ttu-id="a5ce0-182">Следните уеб ресурси са отхвърлени:</span><span class="sxs-lookup"><span data-stu-id="a5ce0-182">The following web resources have been deprecated:</span></span>

- <span data-ttu-id="a5ce0-183">msdyn_\SalesDocument\SalesDocumentFormLoader.js</span><span class="sxs-lookup"><span data-stu-id="a5ce0-183">msdyn_\SalesDocument\SalesDocumentFormLoader.js</span></span>
- <span data-ttu-id="a5ce0-184">msdyn_\SalesDocument\PSSalesDocumentCustomFormIds.js</span><span class="sxs-lookup"><span data-stu-id="a5ce0-184">msdyn_\SalesDocument\PSSalesDocumentCustomFormIds.js</span></span>

> [!NOTE]
> <span data-ttu-id="a5ce0-185">За пълния списък с отхвърлени ресурси вижте [Отхвърлени уеб ресурси в Project Service Automation v3.x.](../developer-guides/web-resources-deprecated-v3.x.md).</span><span class="sxs-lookup"><span data-stu-id="a5ce0-185">For the full list of deprecated resources, see [Deprecated Web resources in Project Service Automation v3.x](../developer-guides/web-resources-deprecated-v3.x.md).</span></span>




[!INCLUDE[footer-include](../../includes/footer-banner.md)]