---
title: Добавяне на необходими персонализирани полета към настройка на цени и обекти на трансакции
description: Тази тема предоставя информация за това как да добавите задължителни препратки към персонализирани полета към обекти и към формуляри и изгледи.
author: rumant
manager: AnnBe
ms.date: 09/18/2020
ms.topic: article
ms.prod: ''
ms.service: project-operations
audience: Application User
ms.reviewer: kfend
ms.search.scope: ''
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Service industries
ms.author: suvaidya
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-10-01
ms.openlocfilehash: c324e0e8797d0b6d3a06ffc2a40b787a475c49b5
ms.sourcegitcommit: 16c442258ba24c79076cf5877a0f3c1f51a85f61
ms.translationtype: HT
ms.contentlocale: bg-BG
ms.lasthandoff: 11/20/2020
ms.locfileid: "4590888"
---
# <a name="add-required-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="52bd8-103">Добавяне на необходими персонализирани полета към настройка на цени и обекти на трансакции</span><span class="sxs-lookup"><span data-stu-id="52bd8-103">Add required custom fields to price setup and transactional entities</span></span>

<span data-ttu-id="52bd8-104">_**Отнася се за:** Проектни операции за сценарии, базирани на ресурси / без складови наличности, внедряване на Lite - сделка с проформа фактуриране_</span><span class="sxs-lookup"><span data-stu-id="52bd8-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="52bd8-105">Тази тема предполага, че сте завършили процедурите в темата [Създаване на персонализирани полета и обекти за използване в ценови измерения](create-custom-fields-entities-pricing-dimensions.md).</span><span class="sxs-lookup"><span data-stu-id="52bd8-105">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities to be used as pricing dimensions](create-custom-fields-entities-pricing-dimensions.md).</span></span> <span data-ttu-id="52bd8-106">Ако не сте изпълнили тези процедури, върнете се и ги изпълнете, след което се върнете към тази тема.</span><span class="sxs-lookup"><span data-stu-id="52bd8-106">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="52bd8-107">В тази тема процедурите ще ви покажат как да добавите задължителните препратки към персонализирани полета към обекти и към елементите на потребителския интерфейс (UI), като например формуляри и изгледи.</span><span class="sxs-lookup"><span data-stu-id="52bd8-107">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="52bd8-108">Добавяне на полета за измерения за персонализирано ценообразуване</span><span class="sxs-lookup"><span data-stu-id="52bd8-108">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="52bd8-109">След като бъдат създадени персонализирани полета и обекти, следващата стъпка е да информирате настройката на цените и обектите за транзакции с всички персонализирани обекти или набори от опции, като създадете справочни полета.</span><span class="sxs-lookup"><span data-stu-id="52bd8-109">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="52bd8-110">В зависимост от това дали вашият списък с ценови измерения включва измерения въз основа на набор от опции или измерения въз основа на обекти, или и двете, следвайте само стъпките съответно в **Персонализирани ценови измерения, базирани на набор от опции** или **Персонализирани ценови измерения, базирани на обекти**, или и двете.</span><span class="sxs-lookup"><span data-stu-id="52bd8-110">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions**, or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="52bd8-111">Персонализирани ценови измерения, базирани на набор от опции</span><span class="sxs-lookup"><span data-stu-id="52bd8-111">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="52bd8-112">Когато персонализирано ценово измерение е базирано на набор от опции, добавете го като поле към основните обекти.</span><span class="sxs-lookup"><span data-stu-id="52bd8-112">When a custom pricing dimension is option set-based, add it as a field to key entities.</span></span> <span data-ttu-id="52bd8-113">В следващата процедура **Месторабота на ресурс** и **Работни часове на ресурс** се използват като ценови измерения на базата на набор от опции.</span><span class="sxs-lookup"><span data-stu-id="52bd8-113">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="52bd8-114">Те трябва първо да бъдат добавени като полета към обекти за ценообразуване **Цена на роля** и **Надценка над цена на роля**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-114">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="52bd8-115">В Project Operations изберете **Настройки** > **Решения** и щракнете двукратно върху **Ценови измерения на \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-115">In Project operations, select **Settings** > **Solutions**, and double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="52bd8-116">В мениджъра на решения, в левия навигационен екран, изберете **Обекти > Цена на роля**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-116">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="52bd8-117">Разширете обекта **Цена на роля** и изберете **Полета**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-117">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="52bd8-118">Изберете **Създаване**, за да създадете ново поле, наречено **Месторабота на ресурс**, и изберете **Набор от опции** като тип на полето.</span><span class="sxs-lookup"><span data-stu-id="52bd8-118">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="52bd8-119">Изберете **Използване на съществуващ набор от опции**, изберете набора от опции **Месторабота на ресурс** и след това изберете **Запиши**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-119">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="52bd8-120">Повторете стъпки 1 – 5, за да добавите това поле към обекта **Надценка над цена на роля**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-120">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="52bd8-121">Повторете стъпки 1 – 5 за набора от опции **Работни часове на ресурс**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-121">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="52bd8-122">Когато добавяте поле към повече от един обект, използвайте едно и също име на полето във всички обекти.</span><span class="sxs-lookup"><span data-stu-id="52bd8-122">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![Добавяне на месторабота на ресурс към цена на роля](media/RWL-Field.png)

<span data-ttu-id="52bd8-124">Във фазите на продажба и прогнозна оценка за даден проект, прогнозните оценки за работното усилие, необходимо за изпълнение на работа **Локално** и **На място** в **Редовно работно време** и **Извънреден труд**, се използват за прогнозна оценка на стойността на офертата/проекта.</span><span class="sxs-lookup"><span data-stu-id="52bd8-124">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="52bd8-125">Полетата **Месторабота на ресурс** и **Работни часове на ресурс** ще бъдат добавени към обектите за прогнозна оценка **Подробности за ред на оферта**, **Подробности за ред на договор**, **Член на екипа на проекта** и **Ред за прогнозна оценка**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-125">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail**, **Contract Line detail**, **Project Team Member**, and **Estimate Line**.</span></span>

1. <span data-ttu-id="52bd8-126">В Project Operations изберете **Настройки** > **Решения** и след това щракнете двукратно върху **Ценови измерения на \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-126">In Project operations, select **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="52bd8-127">В мениджъра на решения, в левия навигационен екран, изберете **Обекти > Подробности за ред на оферта**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-127">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="52bd8-128">Разгънете обекта **Подробности за ред за оферта** и изберете **Полета**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-128">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="52bd8-129">Изберете **Създаване**, за да създадете ново поле, наречено **Месторабота на ресурс**, и изберете типа поле **Набор от опции**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-129">Select **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="52bd8-130">Изберете **Използване на съществуващ набор от опции** и **Месторабота на ресурс**, след което изберете **Запиши**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-130">Select **Use an existing Option set** and **Resource Work Location**, and then select **Save**.</span></span>
6. <span data-ttu-id="52bd8-131">Повторете стъпки 1 – 5, за да добавите това поле към **Подробности за ред на проект**, **Член на екипа на проект** и **Ред за прогнозна оценка**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-131">Repeat steps 1 - 5 to add this field to the **Project Contract line detail**, **Project Team Member**, and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="52bd8-132">Повторете стъпки 1 – 6 за набора от опции **Работни часове на ресурс**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-132">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Добавяне на месторабота на ресурс към ред за прогнозна оценка](media/RWL-Default-Value.png)

<span data-ttu-id="52bd8-134">За доставка и фактуриране цената на извършената работа трябва да бъде точно определена, за да се избере дали е била извършена **Локално**, или **На място**, и дали е била извършена през **Редовно работно време**, или като **Извънреден труд**, в действителните данни за проекта.</span><span class="sxs-lookup"><span data-stu-id="52bd8-134">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite**, and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="52bd8-135">Полетата **Месторабота на ресурс** и **Работни часове на ресурс** трябва да се добавят към обектите **Запис за време**, **Действителни данни**, **Подробности за ред на фактура** и **Счетоводен запис**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-135">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>

1. <span data-ttu-id="52bd8-136">Изберете **Настройки** > **Решения** и след това щракнете двукратно върху **Ценови измерения на \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-136">Select **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="52bd8-137">В мениджъра на решения, в левия навигационен екран, изберете **Обекти > Запис за време**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-137">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="52bd8-138">Разгънете обекта **Подробности за ред на оферта** и след това изберете **Полета**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-138">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="52bd8-139">Изберете **Създаване**, за да създадете ново поле, наречено **Месторабота на ресурс**, и изберете **Набор от опции** като тип на полето.</span><span class="sxs-lookup"><span data-stu-id="52bd8-139">Select **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="52bd8-140">Изберете **Използване на съществуващ набор от опции**, изберете набора от опции **Месторабота на ресурс** и след това изберете **Запиши**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-140">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then select **Save**.</span></span>
6. <span data-ttu-id="52bd8-141">Повторете стъпки 1 – 5, за да добавите това поле към обектите **Действителни данни**, **Подробности за ред на фактура** и **Счетоводен запис**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-141">Repeat steps 1 - 5 to add this field to the **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>
7. <span data-ttu-id="52bd8-142">Повторете стъпки 1 – 6 за набора от опции **Работни часове на ресурс**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-142">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Добавяне на месторабота на ресурс към запис за време](media/RWL-time-entry.png)

<span data-ttu-id="52bd8-144">Това завършва промените на схемата, необходими за персонализираните измерения, базирани на набор от опции.</span><span class="sxs-lookup"><span data-stu-id="52bd8-144">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="52bd8-145">Персонализирани ценови измерения, базирани на обекти</span><span class="sxs-lookup"><span data-stu-id="52bd8-145">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="52bd8-146">Когато персонализираното ценово измерение е обект, ще добавите релации 1:N между обекта на измерение и основните обекти.</span><span class="sxs-lookup"><span data-stu-id="52bd8-146">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key entities.</span></span> <span data-ttu-id="52bd8-147">Като използвате примера за стандартна длъжност по-горе, разумно е да се очаква, че на всеки служител се присвоява стандартна длъжност.</span><span class="sxs-lookup"><span data-stu-id="52bd8-147">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="52bd8-148">В резултат на това ще ви е необходима релация от типа 1: N от стандартна длъжност към наличен ресурс или релация от типа N:1, ако е създадена от наличен ресурс към стандартна длъжност.</span><span class="sxs-lookup"><span data-stu-id="52bd8-148">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="52bd8-149">В Project Operations изберете **Настройки** > **Решения** и след това щракнете двукратно върху **Ценови измерения на \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-149">In Project operations, select **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="52bd8-150">В мениджъра на решения, в левия навигационен екран, изберете **Обекти > Стандартна длъжност**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-150">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="52bd8-151">Разгънете обекта **Стандартна длъжност** и изберете **Релации 1:N**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-151">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="52bd8-152">Изберете **Създаване**, за да създадете нова релация 1:N, наречена **Стандартна длъжност към наличен ресурс**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-152">Select **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="52bd8-153">Въведете необходимата информация и след това изберете **Записване**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-153">Enter the required information, and then select **Save**.</span></span>

> ![Добавяне на стандартна длъжност като поле за препратка към наличен ресурс](media/ST-BR.png)

<span data-ttu-id="52bd8-155">Стандартната длъжност също ще трябва да се добави към обектите за ценообразуване **Цена на роля** и **Надценка над цена на роля**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-155">The Standard Title will also need to be added to Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="52bd8-156">Това също се извършва с помощта на релации 1:N между обектите **Стандартна длъжност** **Цена на роля** и обектите **Стандартна длъжност** и **Надценка над цената на роля**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-156">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="52bd8-157">В мениджъра на решения, в левия навигационен екран, изберете **Обекти > Стандартна длъжност**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-157">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="52bd8-158">Разгънете обекта **Стандартна длъжност** и изберете **Релации 1:N**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-158">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="52bd8-159">Изберете **Създаване**, за да създадете нова релация 1:N, наречена **Стандартна длъжност към цена на роля**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-159">Select **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="52bd8-160">Въведете необходимата информация и след това изберете **Записване**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-160">Enter the required information, and then select **Save**.</span></span>
4. <span data-ttu-id="52bd8-161">Повторете стъпки 1 – 4, за да създадете релации 1:N между обектите **Стандартна длъжност** и **Надценка над цена на роля**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-161">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="52bd8-162">Във фазите на продажба и прогнозна оценка за проекта се изискват прогнозни оценки на работното усилие за всяко стандартна длъжност, за да се определи цената на офертата/проекта.</span><span class="sxs-lookup"><span data-stu-id="52bd8-162">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="52bd8-163">Това означава, че са необходими релации 1:N от стандартна длъжност към всеки от тези обекти за прогнозна оценка:</span><span class="sxs-lookup"><span data-stu-id="52bd8-163">This means that 1:N relationships from Standard Title to each of these estimation entities are needed:</span></span> 

- <span data-ttu-id="52bd8-164">**Подробности за ред на оферта**</span><span class="sxs-lookup"><span data-stu-id="52bd8-164">**Quote line Detail**</span></span>
- <span data-ttu-id="52bd8-165">**Подробни данни за аспекти на договор по проект**</span><span class="sxs-lookup"><span data-stu-id="52bd8-165">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="52bd8-166">**Член на екипа на проект**</span><span class="sxs-lookup"><span data-stu-id="52bd8-166">**Project Team Member**</span></span>
- <span data-ttu-id="52bd8-167">**Ред за прогнозна оценка**</span><span class="sxs-lookup"><span data-stu-id="52bd8-167">**Estimate Line**</span></span>

5. <span data-ttu-id="52bd8-168">Повторете стъпки 1 – 5, за да създадете релации 1:N от **Стандартна длъжност** към **Подробности за ред на оферта**, **Подробности за ред на договор по проект**, **Член на екипа на проект** и **Ред за прогнозна оценка**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-168">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail**, **Project Contract Line Detail**, **Project Team Member**, and **Estimate Line**.</span></span>

> ![Добавяне на стандартна длъжност като поле за препратка към ред за прогнозна оценка](media/ST-Estimate-Line.png)

  <span data-ttu-id="52bd8-170">Във фазите за доставка и фактуриране работата, изпълнена от всяко стандартна длъжност, трябва да бъде точно оценена в действителните данни за проекта.</span><span class="sxs-lookup"><span data-stu-id="52bd8-170">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="52bd8-171">Това означава, че трябва да има релации 1:N от **Стандартна длъжност** към обектите **Запис за време** **Действителни данни**, **Подробности за ред на фактура** и **Счетоводен запис**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-171">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

6. <span data-ttu-id="52bd8-172">Повторете стъпки 1 – 6, за да създадете релации 1:N от **Стандартна длъжност** към обектите **Запис за време** **Действителни данни**, **Подробности за ред на фактура** и **Счетоводен запис**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-172">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

> ![Добавяне на стандартна длъжност като поле за препратка към запис за време](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="52bd8-174">Настройване на стойността на измерение по подразбиране с помощта на функциите за съпоставяне на платформата</span><span class="sxs-lookup"><span data-stu-id="52bd8-174">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="52bd8-175">За запис за време би било полезно системата да задава по подразбиране стандартна длъжност в записа за време от наличния ресурс, който записва записа за време.</span><span class="sxs-lookup"><span data-stu-id="52bd8-175">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="52bd8-176">Използвайте следващите стъпки, за да добавите съпоставяния на полета на релация 1:N от **Наличен ресурс** към **Запис за време**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-176">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="52bd8-177">В мениджъра на решения, в левия навигационен екран, изберете **Обекти > Стандартна длъжност**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-177">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="52bd8-178">Разгънете обекта **Стандартна длъжност** и изберете **Релации 1:N**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-178">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="52bd8-179">Щракнете двукратно върху **Наличен ресурс към запис за време**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-179">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="52bd8-180">На страницата **Релация** изберете **Използване на съпоставяния на полета**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-180">On the **Relationship** page, select **Use Field mappings**.</span></span> 
4. <span data-ttu-id="52bd8-181">Изберете **Създаване**, за да създадете ново съпоставяне на полена между полето **Стандартна длъжност** в обекта **Наличен ресурс** към полето за препратка **Стандартна длъжност** в обекта **Запис за време**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-181">Select **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![Настройка на съпоставяния на полета за разрешаване на задаване по подразбиране на стандартна длъжност от наличен ресурс към запис за време](media/ST-Mapping2.png)

<span data-ttu-id="52bd8-183">Това завършва промените на схемата, необходими за персонализираните измерения, базирани на обекти.</span><span class="sxs-lookup"><span data-stu-id="52bd8-183">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="52bd8-184">Добавяне на персонализирани полета към формуляри, изгледи и бизнес правила</span><span class="sxs-lookup"><span data-stu-id="52bd8-184">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="52bd8-185">След като сте направили всички необходими промени на схемата, следващата стъпка е да направите полетата видими в потребителския интерфейс, като добавите полетата към формулярите и изгледите.</span><span class="sxs-lookup"><span data-stu-id="52bd8-185">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="52bd8-186">Отворете формуляра или изгледа.</span><span class="sxs-lookup"><span data-stu-id="52bd8-186">Open the form or the view.</span></span> <span data-ttu-id="52bd8-187">В десния навигационен екран изберете полето и го плъзнете към платното на формуляра.</span><span class="sxs-lookup"><span data-stu-id="52bd8-187">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="52bd8-188">Ако редактирате изглед, използвайте десния навигационен екран, изберете **Добавяне на полета** и в диалоговия прозорец **Изброяване на полета** изберете необходимите полетата и изберете **OK**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-188">If you are editing a view, use the right navigation pane, select **Add fields**, and in the **Field listing** dialog box, select the fields that you need and select **Ok**.</span></span>

<span data-ttu-id="52bd8-189">Следната таблица предоставя изчерпателен списък на стандартни формуляри и изгледи по обекти, които ще трябва да бъдат актуализирани с новите полета.</span><span class="sxs-lookup"><span data-stu-id="52bd8-189">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="52bd8-190">Ако имате допълнителни изгледи или формуляри във вашите персонализации на тези обекти, добавете и новите полета към тези.</span><span class="sxs-lookup"><span data-stu-id="52bd8-190">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="52bd8-191">Entity</span><span class="sxs-lookup"><span data-stu-id="52bd8-191">Entity</span></span>        | <span data-ttu-id="52bd8-192">Формуляри, които се нуждаят от новото поле</span><span class="sxs-lookup"><span data-stu-id="52bd8-192">Forms that need the new field</span></span>   |<span data-ttu-id="52bd8-193">Изгледи, които се нуждаят от новото поле</span><span class="sxs-lookup"><span data-stu-id="52bd8-193">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="52bd8-194">Цена на роля</span><span class="sxs-lookup"><span data-stu-id="52bd8-194">Role Price</span></span>|<span data-ttu-id="52bd8-195">• Информация</span><span class="sxs-lookup"><span data-stu-id="52bd8-195">• Information</span></span> |<span data-ttu-id="52bd8-196">• Цени на категории активни ресурси</span><span class="sxs-lookup"><span data-stu-id="52bd8-196">• Active Resource Category Prices</span></span><br> <span data-ttu-id="52bd8-197">• Свързан изглед на цени на категории ресурси</span><span class="sxs-lookup"><span data-stu-id="52bd8-197">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="52bd8-198">Надценка над цена на роля</span><span class="sxs-lookup"><span data-stu-id="52bd8-198">Role Price Markup</span></span>|<span data-ttu-id="52bd8-199">• Информация</span><span class="sxs-lookup"><span data-stu-id="52bd8-199">• Information</span></span>|<span data-ttu-id="52bd8-200">• Активна надценка над цена на роля</span><span class="sxs-lookup"><span data-stu-id="52bd8-200">• Active Role Price Markup</span></span><br><span data-ttu-id="52bd8-201">• Свързан изглед на надценка над цена на роля</span><span class="sxs-lookup"><span data-stu-id="52bd8-201">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="52bd8-202">Подробности за ред на оферта</span><span class="sxs-lookup"><span data-stu-id="52bd8-202">Quote line detail</span></span>|<span data-ttu-id="52bd8-203">• Информация за проекта</span><span class="sxs-lookup"><span data-stu-id="52bd8-203">• Project Information</span></span><br><span data-ttu-id="52bd8-204">• Бързо създаване на проект</span><span class="sxs-lookup"><span data-stu-id="52bd8-204">• Project Quick Create</span></span>|<span data-ttu-id="52bd8-205">• Подробности за активен за ред на оферта</span><span class="sxs-lookup"><span data-stu-id="52bd8-205">• Active Quote Line Detail</span></span><br><span data-ttu-id="52bd8-206">• Подробности за комбиниран ред на оферта</span><span class="sxs-lookup"><span data-stu-id="52bd8-206">• Combined Quote Line Details</span></span><br><span data-ttu-id="52bd8-207">• Свързан изглед на подробности за ред на оферта</span><span class="sxs-lookup"><span data-stu-id="52bd8-207">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="52bd8-208">Подробности за ред на договор по проект</span><span class="sxs-lookup"><span data-stu-id="52bd8-208">Project Contract line detail</span></span>|<span data-ttu-id="52bd8-209">• Информация за проекта</span><span class="sxs-lookup"><span data-stu-id="52bd8-209">• Project Information</span></span><br><span data-ttu-id="52bd8-210">• Бързо създаване на проект</span><span class="sxs-lookup"><span data-stu-id="52bd8-210">• Project Quick Create</span></span>|<span data-ttu-id="52bd8-211">• Подробности за комбиниран ред на договор</span><span class="sxs-lookup"><span data-stu-id="52bd8-211">• Combined Contract Line Details</span></span><br><span data-ttu-id="52bd8-212">• Подробности за активен ред на договор</span><span class="sxs-lookup"><span data-stu-id="52bd8-212">• Active Contract Line Details</span></span><br><span data-ttu-id="52bd8-213">• Свързан изглед на подробности за ред на договор</span><span class="sxs-lookup"><span data-stu-id="52bd8-213">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="52bd8-214">Член на екипа на проект</span><span class="sxs-lookup"><span data-stu-id="52bd8-214">Project Team Member</span></span>|<span data-ttu-id="52bd8-215">• Информация</span><span class="sxs-lookup"><span data-stu-id="52bd8-215">• Information</span></span><br><span data-ttu-id="52bd8-216">• Нов формуляр</span><span class="sxs-lookup"><span data-stu-id="52bd8-216">• New Form</span></span>|<span data-ttu-id="52bd8-217">• Активни членове на екип на проект</span><span class="sxs-lookup"><span data-stu-id="52bd8-217">• Active Project Team Members</span></span><br><span data-ttu-id="52bd8-218">• Членове на екип на проект</span><span class="sxs-lookup"><span data-stu-id="52bd8-218">• Project Team Members</span></span><br><span data-ttu-id="52bd8-219">• Свързан изглед на членове на екип на проект</span><span class="sxs-lookup"><span data-stu-id="52bd8-219">• Project Team members associated View</span></span>|
|  <span data-ttu-id="52bd8-220">Запис за време</span><span class="sxs-lookup"><span data-stu-id="52bd8-220">Time Entry</span></span>|<span data-ttu-id="52bd8-221">• Информация</span><span class="sxs-lookup"><span data-stu-id="52bd8-221">• Information</span></span><br><span data-ttu-id="52bd8-222">• Създаване на запис за време</span><span class="sxs-lookup"><span data-stu-id="52bd8-222">• Create Time Entry</span></span>|<span data-ttu-id="52bd8-223">• Моите записи за време по дата</span><span class="sxs-lookup"><span data-stu-id="52bd8-223">• My Time Entries By Date</span></span><br><span data-ttu-id="52bd8-224">• Моите записи за време за тази седмица</span><span class="sxs-lookup"><span data-stu-id="52bd8-224">• My time Entries for this week</span></span><br><span data-ttu-id="52bd8-225">• Записи за време за одобрение</span><span class="sxs-lookup"><span data-stu-id="52bd8-225">• Time entries for approval</span></span>|
|  <span data-ttu-id="52bd8-226">Счетоводен запис</span><span class="sxs-lookup"><span data-stu-id="52bd8-226">Journal Line</span></span>|<span data-ttu-id="52bd8-227">• Информация</span><span class="sxs-lookup"><span data-stu-id="52bd8-227">• Information</span></span><br><span data-ttu-id="52bd8-228">• Бързо създаване</span><span class="sxs-lookup"><span data-stu-id="52bd8-228">• Quick create</span></span>|<span data-ttu-id="52bd8-229">• Активни счетоводни записи</span><span class="sxs-lookup"><span data-stu-id="52bd8-229">• Active journal lines</span></span><br><span data-ttu-id="52bd8-230">• Свързан изглед на счетоводни записи</span><span class="sxs-lookup"><span data-stu-id="52bd8-230">• Journal Line associated view</span></span>|
|  <span data-ttu-id="52bd8-231">Подробности за ред на фактура</span><span class="sxs-lookup"><span data-stu-id="52bd8-231">Invoice Line Detail</span></span>|<span data-ttu-id="52bd8-232">• Информация</span><span class="sxs-lookup"><span data-stu-id="52bd8-232">• Information</span></span><br><span data-ttu-id="52bd8-233">• Бързо създаване</span><span class="sxs-lookup"><span data-stu-id="52bd8-233">• Quick create</span></span>|<span data-ttu-id="52bd8-234">• Подробности за активен ред на фактура</span><span class="sxs-lookup"><span data-stu-id="52bd8-234">• Active Invoice Line Details</span></span><br><span data-ttu-id="52bd8-235">• Платими транзакции по фактура</span><span class="sxs-lookup"><span data-stu-id="52bd8-235">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="52bd8-236">• Бонусни трансакции по фактура</span><span class="sxs-lookup"><span data-stu-id="52bd8-236">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="52bd8-237">• Свързан изглед на подробности за ред на фактура</span><span class="sxs-lookup"><span data-stu-id="52bd8-237">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="52bd8-238">• Неплатими транзакции по фактура</span><span class="sxs-lookup"><span data-stu-id="52bd8-238">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="52bd8-239">Действителни данни</span><span class="sxs-lookup"><span data-stu-id="52bd8-239">Actual</span></span>|<span data-ttu-id="52bd8-240">• Информация</span><span class="sxs-lookup"><span data-stu-id="52bd8-240">• Information</span></span><br><span data-ttu-id="52bd8-241">• Активни действителни данни</span><span class="sxs-lookup"><span data-stu-id="52bd8-241">• Active Actuals</span></span>|<span data-ttu-id="52bd8-242">• Свързан изглед на действителни данни</span><span class="sxs-lookup"><span data-stu-id="52bd8-242">• Actual Associated view</span></span>|

<span data-ttu-id="52bd8-243">Персонализираните полета може също да трябва да се добавят в бизнес правила в зависимост от това, което сте дефинирали.</span><span class="sxs-lookup"><span data-stu-id="52bd8-243">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="52bd8-244">Един стандартен пример е за бизнес правилото **Възможност за редактиране на запис за време, базиран на състояние**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-244">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="52bd8-245">Това правило определя кои полета трябва да бъдат заключени, когато записът за време е в нередактируемо състояние, като например **Одобрено**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-245">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="52bd8-246">Добавяне на полета към това бизнес правило, така че полетата да са заключени за редактиране, когато записът за време е в състояние, различно от **Чернова** или **Върнато**.</span><span class="sxs-lookup"><span data-stu-id="52bd8-246">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>
