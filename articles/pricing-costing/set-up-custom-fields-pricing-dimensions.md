---
title: Настройване на персонализирани полета като измерения на ценообразуване
description: Тази тема предоставя информация за това как да настроите персонализирани ценови измерения с помощта на персонализирани полета.
author: rumant
manager: AnnBe
ms.date: 09/18/2020
ms.topic: article
ms.prod: ''
ms.service: project-operations
audience: Application User
ms.reviewer: kfend
ms.search.scope: ''
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Service industries
ms.author: rumant
ms.dyn365.ops.version: ''
ms.search.validFrom: 2020-10-01
ms.openlocfilehash: 744c561d023d7ef5ed79947e69f2de8a3902fb41
ms.sourcegitcommit: 13a4e58eddbb0f81aca07c1ff452c420dbd8a68f
ms.translationtype: HT
ms.contentlocale: bg-BG
ms.lasthandoff: 11/30/2020
ms.locfileid: "4650184"
---
# <a name="set-up-custom-fields-as-pricing-dimensions"></a>Настройване на персонализирани полета като измерения на ценообразуване

_**Отнася се за:** Проектни операции за сценарии, базирани на ресурси / без складови наличности, внедряване на Lite - сделка с проформа фактуриране_

Преди да започнете, тази тема предполага, че сте завършили процедурите в темите [Създавате на персонализирани полета и обекти](create-custom-fields-entities-pricing-dimensions.md) и [Добавяне на необходими персонализирани полета към настройка на цени и обекти за транзакции](add-custom-fields-price-setup-transactional-entities.md). Ако не сте изпълнили тези процедури, върнете се и ги изпълнете, след което се върнете към тази тема. 

Тази тема предоставя информация за задаването на персонализирани ценови измерения. На страницата **Параметри** разделът **Ценови измерения, базирани на суми** показва записите в обекта за ценови измерения. По подразбиране в мрежата в този раздел има два реда:

- **msdyn_resourcecategory** (роля)
- **msdyn_OrganizationalUnit** (организационна единица)

> [!IMPORTANT]
> Не изтривайте тези редове. Въпреки това, ако не се нуждаете от тях, можете да ги направите неприложими в конкретен контекст, като зададете **Приложимо за разходи**, **Приложимо за продажби** и **Приложимо за покупка** на **Не**. Задаването на тези стойности на атрибутите на **Не** има същия ефект като това, че полето не е ценово измерение.

За да може полето да се превърне в ценово измерение, то трябва да бъде:

- Създадено като поле в обектите **Цена на роля** и **Надценка над цена на роля**. За повече информация как да направите това вижте [Добавяне на персонализирани полета към настройки на цени и обекти за транзакции](add-custom-fields-price-setup-transactional-entities.md).

- Създадено като ред в таблицата **Ценово измерение**. Например добавете редове на ценови измерения, както е показано в следващата графика. 

![Редове на ценови измерения, базирани на суми](media/Amt-based-PD.png)

Работни часове на ресурс (**msdyn_resourceworkhours**) се добавя като измерение, базирано на надценка, и е добавено към мрежата в раздела **Ценово измерение, базирано на надценка**.

![Редове на ценови измерения, базирани на надценка](media/Markup-based-PD.png)


> [!IMPORTANT]
> Всяка промяна в данните на ценово измерение в тази таблица, съществуващо или ново, се разпространява към бизнес логиката за ценообразуване само след обновяване на кеша. Обновяването на кеша може да отнеме до 10 минути. Оставете това време, за да видите промените в логиката на цената по подразбиране, които трябва да произтекат от промените в данните в „Ценови измерения“.


## <a name="attributes-of-the-pricing-dimensions-table"></a>Атрибути на таблицата „Ценови измерения“
Следващите раздели предоставят информация за различните атрибути в таблицата **Ценови измерения**.

### <a name="pricing-dimension-name"></a>Име на ценовото измерение
Тази стойност трябва да бъде точно същата като името на схемата на полето, което се добавя към таблицата **Цена на роля** за персонализирани ценови измерения. За повече информация относно добавянето на полета към таблицата **Цена на роля** вижте [Добавяне на персонализирани полета към настройка на цени и обекти за транзакции](add-custom-fields-price-setup-transactional-entities.md).

### <a name="type-of-dimension"></a>Тип измерение
Съществуват два типа ценови измерения:
  
  - **Ценови измерения, базирани на суми**: стойностите на измеренията от контекста на въвеждане съвпадат със стойностите на измерението в реда **Цена на роля**, а цена/разходи се получава по подразбиране директно от таблицата **Цена на роля**.
  - **Измерения, базирани на надценка**: това са измерения, където се използва следния 3-стъпков процес, за да получи цената/разходите:
 
    1. Измеренията, които не са базирани на надценка, от контекста на въвеждане се съпоставят с реда „Цена на роля“, за да получи базовата ставка.
    2. Стойностите на измеренията от контекста на въвеждане се съпоставят с реда **Цена на роля**, за да получи процент на надценка.
    3. Процентът на надценка от втората стъпка се прилага към базовата ставка, получена от таблицата **Цена на роля** в първата стъпка, за да достигне до крайната цена/разходи.
   
   Следващата таблица илюстрира изчисляването на ценовите надценки.
  
| Роля        | Организационна единица    |Месторабота      |Стандартна длъжност      |Работни часове на ресурс      |  Надценка|
| ------------|-------------|-------------------|--------------------|-------------------------|--------:|
|             | Contoso Индия|На място            |                    |Извънреден труд                 |15     |
|             | Contoso Индия|Локално             |                    |Извънреден труд                 |10     |
|             | Contoso САЩ   |Локално             |                    |Извънреден труд                 |20     |


Ако ресурс от Contoso Индия, чиято базова ставка е 100 USD, работи на място и регистрира 8 часа редовно време и 2 часа извънреден труд в записа за време, програмата за ценообразуване ще използва базовата ставка 100 за 8 часа, за да запише 800 USD. За 2-та часа извънреден труд ще се приложи надценка от 15% към базовата ставка от 100, за да се получи единична цена 115 USD, и ще бъде записана общ разход от 230 USD.

### <a name="applicable-to-cost"></a>Приложимо за разходи 
Ако това е зададено на **Да**, показва, че стойността на измерението от контекста на въвеждане трябва да се съпостави с **Цена на роля** и **Надценка над цена на роля** при извличане на ставките за разходи и надценка.

### <a name="applicable-to-sales"></a>Приложимо за продажби
Ако това е зададено на **Да**, показва, че стойността на измерението от контекста на въвеждане трябва да се съпостави с **Цена на роля** и **Надценка над цена на роля** при извличане на ставките за фактуриране и надценка.

### <a name="applicable-to-purchase"></a>Приложимо за покупки
Ако това е зададено на **Да**, показва, че стойността на измерението от контекста на въвеждане трябва да се съпостави с **Цена на роля** и **Надценка над цена на роля** при извличане на покупната цена. Сценариите за подизпълнение не се поддържат, така че това поле не се използва. 

### <a name="priority"></a>Приоритет
Задаването на приоритет на измеренията помага на процедурата за ценообразуване дори когато не може да намери точно съвпадение между въведените стойности на измеренията и стойностите от таблиците **Цена на роля** или **Надценка над цена на роля**. В този сценарий ще се използват нулеви стойности за несъответстващи стойности на измерение чрез претегляне на измеренията по реда на техния приоритет.

- **Приоритет на разходите**: стойността на приоритета на разходите на измерение ще покаже теглото на това измерение при съпоставяне с настройката на себестойностите. Стойността на **Приоритет на разходите** трябва да бъде уникална за измеренията, които са **Приложимо за разходи**.
- **Приоритет на продажбите**: стойността на приоритета на продажбите на измерение ще покаже теглото на това измерение при съпоставяне с настройката на продажните цени или ставките за фактуриране. Стойността на **Приоритет на продажбите** трябва да бъде уникална за измеренията, които са **Приложимо за продажби**.
